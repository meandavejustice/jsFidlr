"use strict";var JSZip=function(a,b){this.files={},this.root="",a&&this.load(a,b)};JSZip.signature={LOCAL_FILE_HEADER:"PK",CENTRAL_FILE_HEADER:"PK",CENTRAL_DIRECTORY_END:"PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK",ZIP64_CENTRAL_DIRECTORY_END:"PK",DATA_DESCRIPTOR:"PK\b"},JSZip.defaults={base64:!1,binary:!1,dir:!1,date:null,compression:null},JSZip.prototype=function(){var a=function(a){if(a._data instanceof JSZip.CompressedObject&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,"uint8array"===JSZip.utils.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},b=function(b){var c=a(b),d=JSZip.utils.getTypeOf(c);if("string"===d){if(!b.options.binary){if(JSZip.support.uint8array&&"function"==typeof TextEncoder)return TextEncoder("utf-8").encode(c);if(JSZip.support.nodebuffer)return new Buffer(c,"utf-8")}return b.asBinary()}return c},c=function(b){var c=a(this);return null===c||"undefined"==typeof c?"":(this.options.base64&&(c=JSZip.base64.decode(c)),c=b&&this.options.binary?JSZip.prototype.utf8decode(c):JSZip.utils.transformTo("string",c),b||this.options.binary||(c=JSZip.prototype.utf8encode(c)),c)},d=function(a,b,c){this.name=a,this._data=b,this.options=c};d.prototype={asText:function(){return c.call(this,!0)},asBinary:function(){return c.call(this,!1)},asNodeBuffer:function(){var a=b(this);return JSZip.utils.transformTo("nodebuffer",a)},asUint8Array:function(){var a=b(this);return JSZip.utils.transformTo("uint8array",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var e=function(a,b){var d,c="";for(d=0;b>d;d++)c+=String.fromCharCode(255&a),a>>>=8;return c},f=function(){var b,c,a={};for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&"undefined"==typeof a[c]&&(a[c]=arguments[b][c]);return a},g=function(a){return a=a||{},a.base64===!0&&null==a.binary&&(a.binary=!0),a=f(a,JSZip.defaults),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},h=function(a,b,c){var e=i(a),f=JSZip.utils.getTypeOf(b);if(e&&j.call(this,e),c=g(c),c.dir||null===b||"undefined"==typeof b)c.base64=!1,c.binary=!1,b=null;else if("string"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=JSZip.utils.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof JSZip.CompressedObject))throw new Error("The data of '"+a+"' is in an unsupported format !");"arraybuffer"===f&&(b=JSZip.utils.transformTo("uint8array",b))}return this.files[a]=new d(a,b,c)},i=function(a){"/"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},j=function(a){return"/"!=a.slice(-1)&&(a+="/"),this.files[a]||h.call(this,a,null,{dir:!0}),this.files[a]},k=function(a,c){var e,d=new JSZip.CompressedObject;return a._data instanceof JSZip.CompressedObject?(d.uncompressedSize=a._data.uncompressedSize,d.crc32=a._data.crc32,0===d.uncompressedSize||a.options.dir?(c=JSZip.compressions.STORE,d.compressedContent="",d.crc32=0):a._data.compressionMethod===c.magic?d.compressedContent=a._data.getCompressedContent():(e=a._data.getContent(),d.compressedContent=c.compress(JSZip.utils.transformTo(c.compressInputType,e)))):(e=b(a),(!e||0===e.length||a.options.dir)&&(c=JSZip.compressions.STORE,e=""),d.uncompressedSize=e.length,d.crc32=this.crc32(e),d.compressedContent=c.compress(JSZip.utils.transformTo(c.compressInputType,e))),d.compressedSize=d.compressedContent.length,d.compressionMethod=c.magic,d},l=function(a,b,c,d){var j,k,g=(c.compressedContent,this.utf8encode(b.name)),h=g!==b.name,i=b.options;j=i.date.getHours(),j<<=6,j|=i.date.getMinutes(),j<<=5,j|=i.date.getSeconds()/2,k=i.date.getFullYear()-1980,k<<=4,k|=i.date.getMonth()+1,k<<=5,k|=i.date.getDate();var l="";l+="\n\0",l+=h?"\0\b":"\0\0",l+=c.compressionMethod,l+=e(j,2),l+=e(k,2),l+=e(c.crc32,4),l+=e(c.compressedSize,4),l+=e(c.uncompressedSize,4),l+=e(g.length,2),l+="\0\0";var m=JSZip.signature.LOCAL_FILE_HEADER+l+g,n=JSZip.signature.CENTRAL_FILE_HEADER+"\0"+l+"\0\0"+"\0\0"+"\0\0"+(b.options.dir===!0?"\0\0\0":"\0\0\0\0")+e(d,4)+g;return{fileRecord:m,dirRecord:n,compressedObject:c}},m=function(){this.data=[]};m.prototype={append:function(a){a=JSZip.utils.transformTo("string",a),this.data.push(a)},finalize:function(){return this.data.join("")}};var n=function(a){this.data=new Uint8Array(a),this.index=0};return n.prototype={append:function(a){0!==a.length&&(a=JSZip.utils.transformTo("uint8array",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},{load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(a){var c,e,g,h,b=[];for(c in this.files)this.files.hasOwnProperty(c)&&(g=this.files[c],h=new d(g.name,g._data,f(g.options)),e=c.slice(this.root.length,c.length),c.slice(0,this.root.length)===this.root&&a(e,h)&&b.push(h));return b},file:function(a,b,c){if(1===arguments.length){if(a instanceof RegExp){var d=a;return this.filter(function(a,b){return!b.options.dir&&d.test(a)})}return this.filter(function(b,c){return!c.options.dir&&b===a})[0]||null}return a=this.root+a,h.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(a instanceof RegExp)return this.filter(function(b,c){return c.options.dir&&a.test(b)});var b=this.root+a,c=j.call(this,b),d=this.clone();return d.root=c.name,d},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]),b)if(b.options.dir)for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];else delete this.files[a];return this},generate:function(a){a=f(a||{},{base64:!0,compression:"STORE",type:"base64"}),JSZip.utils.checkSupport(a.type);var g,h,b=[],c=0,d=0;for(var i in this.files)if(this.files.hasOwnProperty(i)){var j=this.files[i],o=j.options.compression||a.compression.toUpperCase(),p=JSZip.compressions[o];if(!p)throw new Error(o+" is not a valid compression method !");var q=k.call(this,j,p),r=l.call(this,i,j,q,c);c+=r.fileRecord.length+q.compressedSize,d+=r.dirRecord.length,b.push(r)}var s="";switch(s=JSZip.signature.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+e(b.length,2)+e(b.length,2)+e(d,4)+e(c,4)+"\0\0",a.type.toLowerCase()){case"uint8array":case"arraybuffer":case"blob":case"nodebuffer":g=new n(c+d+s.length);break;case"base64":default:g=new m(c+d+s.length)}for(h=0;h<b.length;h++)g.append(b[h].fileRecord),g.append(b[h].compressedObject.compressedContent);for(h=0;h<b.length;h++)g.append(b[h].dirRecord);g.append(s);var t=g.finalize();switch(a.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return JSZip.utils.transformTo(a.type.toLowerCase(),t);case"blob":return JSZip.utils.arrayBuffer2Blob(JSZip.utils.transformTo("arraybuffer",t));case"base64":return a.base64?JSZip.base64.encode(t):t;default:return t}},crc32:function(a,b){if("undefined"==typeof a||!a.length)return 0;var c="string"!==JSZip.utils.getTypeOf(a),d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"==typeof b&&(b=0);var e=0,f=0,g=0;b=-1^b;for(var h=0,i=a.length;i>h;h++)g=c?a[h]:a.charCodeAt(h),f=255&(b^g),e=d[f],b=b>>>8^e;return-1^b},clone:function(){var a=new JSZip;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a},utf8encode:function(a){if(JSZip.support.uint8array&&"function"==typeof TextEncoder){var b=TextEncoder("utf-8").encode(a);return JSZip.utils.transformTo("string",b)}if(JSZip.support.nodebuffer)return JSZip.utils.transformTo("string",new Buffer(a,"utf-8"));for(var c=[],d=0,e=0;e<a.length;e++){var f=a.charCodeAt(e);128>f?c[d++]=String.fromCharCode(f):f>127&&2048>f?(c[d++]=String.fromCharCode(192|f>>6),c[d++]=String.fromCharCode(128|63&f)):(c[d++]=String.fromCharCode(224|f>>12),c[d++]=String.fromCharCode(128|63&f>>6),c[d++]=String.fromCharCode(128|63&f))}return c.join("")},utf8decode:function(a){var b=[],c=0,d=JSZip.utils.getTypeOf(a),e="string"!==d,f=0,g=0,i=0,j=0;if(JSZip.support.uint8array&&"function"==typeof TextDecoder)return TextDecoder("utf-8").decode(JSZip.utils.transformTo("uint8array",a));if(JSZip.support.nodebuffer)return JSZip.utils.transformTo("nodebuffer",a).toString("utf-8");for(;f<a.length;)g=e?a[f]:a.charCodeAt(f),128>g?(b[c++]=String.fromCharCode(g),f++):g>191&&224>g?(i=e?a[f+1]:a.charCodeAt(f+1),b[c++]=String.fromCharCode((31&g)<<6|63&i),f+=2):(i=e?a[f+1]:a.charCodeAt(f+1),j=e?a[f+2]:a.charCodeAt(f+2),b[c++]=String.fromCharCode((15&g)<<12|(63&i)<<6|63&j),f+=3);return b.join("")}}}(),JSZip.compressions={STORE:{magic:"\0\0",compress:function(a){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null}},JSZip.support={arraybuffer:function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array}(),nodebuffer:function(){return"undefined"!=typeof Buffer}(),uint8array:function(){return"undefined"!=typeof Uint8Array}(),blob:function(){if("undefined"==typeof ArrayBuffer)return!1;var a=new ArrayBuffer(0);try{return 0===new Blob([a],{type:"application/zip"}).size}catch(b){}try{var c=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return c.append(a),0===c.getBlob("application/zip").size}catch(b){}return!1}()},function(){function a(a){return a}function b(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function c(a){for(var b=65536,c=[],d=a.length,e=JSZip.utils.getTypeOf(a),f=0;d>f&&b>1;)try{"array"===e||"nodebuffer"===e?c.push(String.fromCharCode.apply(null,a.slice(f,Math.max(f+b,d)))):c.push(String.fromCharCode.apply(null,a.subarray(f,f+b))),f+=b}catch(g){b=Math.floor(b/2)}return c.join("")}function d(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}JSZip.utils={string2binary:function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},string2Uint8Array:function(a){return JSZip.utils.transformTo("uint8array",a)},uint8Array2String:function(a){return JSZip.utils.transformTo("string",a)},arrayBuffer2Blob:function(a){JSZip.utils.checkSupport("blob");try{return new Blob([a],{type:"application/zip"})}catch(b){}try{var c=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return c.append(a),c.getBlob("application/zip")}catch(b){}throw new Error("Bug : can't construct the Blob.")},string2Blob:function(a){var b=JSZip.utils.transformTo("arraybuffer",a);return JSZip.utils.arrayBuffer2Blob(b)}};var e={};e.string={string:a,array:function(a){return b(a,new Array(a.length))},arraybuffer:function(a){return e.string.uint8array(a).buffer},uint8array:function(a){return b(a,new Uint8Array(a.length))},nodebuffer:function(a){return b(a,new Buffer(a.length))}},e.array={string:c,array:a,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return new Buffer(a)}},e.arraybuffer={string:function(a){return c(new Uint8Array(a))},array:function(a){return d(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:a,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return new Buffer(new Uint8Array(a))}},e.uint8array={string:c,array:function(a){return d(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:a,nodebuffer:function(a){return new Buffer(a)}},e.nodebuffer={string:c,array:function(a){return d(a,new Array(a.length))},arraybuffer:function(a){return e.nodebuffer.uint8array(a).buffer},uint8array:function(a){return d(a,new Uint8Array(a.length))},nodebuffer:a},JSZip.utils.transformTo=function(a,b){if(b||(b=""),!a)return b;JSZip.utils.checkSupport(a);var c=JSZip.utils.getTypeOf(b),d=e[c][a](b);return d},JSZip.utils.getTypeOf=function(a){return"string"==typeof a?"string":a instanceof Array?"array":JSZip.support.nodebuffer&&Buffer.isBuffer(a)?"nodebuffer":JSZip.support.uint8array&&a instanceof Uint8Array?"uint8array":JSZip.support.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},JSZip.utils.checkSupport=function(a){var b=!0;switch(a.toLowerCase()){case"uint8array":b=JSZip.support.uint8array;break;case"arraybuffer":b=JSZip.support.arraybuffer;break;case"nodebuffer":b=JSZip.support.nodebuffer;break;case"blob":b=JSZip.support.blob}if(!b)throw new Error(a+" is not supported by this browser")}}(),function(){JSZip.CompressedObject=function(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null},JSZip.CompressedObject.prototype={getContent:function(){return null},getCompressedContent:function(){return null}}}(),JSZip.base64=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(b){for(var e,f,g,h,i,j,k,d="",l=0;l<b.length;)e=b.charCodeAt(l++),f=b.charCodeAt(l++),g=b.charCodeAt(l++),h=e>>2,i=(3&e)<<4|f>>4,j=(15&f)<<2|g>>6,k=63&g,isNaN(f)?j=k=64:isNaN(g)&&(k=64),d=d+a.charAt(h)+a.charAt(i)+a.charAt(j)+a.charAt(k);return d},decode:function(b){var e,f,g,h,i,j,k,d="",l=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<b.length;)h=a.indexOf(b.charAt(l++)),i=a.indexOf(b.charAt(l++)),j=a.indexOf(b.charAt(l++)),k=a.indexOf(b.charAt(l++)),e=h<<2|i>>4,f=(15&i)<<4|j>>2,g=(3&j)<<6|k,d+=String.fromCharCode(e),64!=j&&(d+=String.fromCharCode(f)),64!=k&&(d+=String.fromCharCode(g));return d}}}();